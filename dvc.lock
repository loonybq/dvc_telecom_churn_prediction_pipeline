schema: '2.0'
stages:
  data_process:
    cmd: python source/data_process.py data/telecom_churn.csv
    deps:
    - path: data/telecom_churn.csv
      hash: md5
      md5: c71b9e855c9cf3c67ceb7a57adc4b2e8
      size: 128860
    - path: source/data_process.py
      hash: md5
      md5: cf061ccf32b6793db8b68e1acafcaa6f
      size: 1143
    params:
      params.yaml:
        data_process.split_ratio: 0.2
    outs:
    - path: processed_data
      hash: md5
      md5: 0d5ab6ebe62d1ba4d4f340f1cad6e819.dir
      size: 148263
      nfiles: 2
  train:
    cmd: python source/train.py processed_data/out_train.csv
    deps:
    - path: processed_data/out_train.csv
      hash: md5
      md5: 9125791dddc9f037d7a3dd623accb5f0
      size: 118615
    - path: source/train.py
      hash: md5
      md5: 744ef3604febcf9128eb773585c4820a
      size: 1401
    params:
      params.yaml:
        train.class_weight: balanced
        train.max_depth: 5
        train.min_samples_leaf: 1
        train.min_samples_split: 2
        train.n_estimators: 100
    outs:
    - path: model_dir/model.pkl
      hash: md5
      md5: 6ec2bbdee2ecb9a5adea024080267673
      size: 436593
  evaluate:
    cmd: python source/evaluate.py model_dir/model.pkl processed_data/out_test.csv
    deps:
    - path: model_dir/model.pkl
      hash: md5
      md5: 6ec2bbdee2ecb9a5adea024080267673
      size: 436593
    - path: source/evaluate.py
      hash: md5
      md5: cc738685b4869fe3483ab130cbce810f
      size: 3104
    outs:
    - path: results/predictions_vs_actuals.csv
      hash: md5
      md5: 4698712856bfea862bbd80cefae0a6f4
      size: 5244
